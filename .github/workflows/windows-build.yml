name: Debug Paths

on:
  workflow_dispatch:

jobs:
  debug:
    runs-on: windows-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Show workspace info (fixed)
        shell: pwsh
        run: |
          Write-Host "=== GITHUB WORKSPACE ==="
          Write-Host "${{ github.workspace }}"
          Write-Host ""
          Write-Host "=== CURRENT DIRECTORY ==="
          pwd
          Write-Host ""
          Write-Host "=== LISTING CURRENT DIR ==="
          Get-ChildItem -Force
          Write-Host ""
          Write-Host "=== LISTING PARENT DIR ==="
          Get-ChildItem -Force "${{ github.workspace }}\.."
          Write-Host ""
          Write-Host "=== LOOKING FOR *.bzl FILES ==="
          Get-ChildItem -Recurse -Force -Filter "*.bzl" | ForEach-Object {
            Write-Host "FOUND: $($_.FullName)"
          }
